<!DOCTYPE html><html lang="en"><body><div class="container"><div class="avatar" src=""><svg class="wifi_icon" focusable="false" aria-hidden="true" viewBox="0 0 24 24" ><path d="M12.01 21.49 23.64 7c-.45-.34-4.93-4-11.64-4C5.28 3 .81 6.66.36 7l11.63 14.49.01.01.01-.01z" ></path></svg></div><div class="title">WiFi Setup</div><form id="form" class="input_container"><input type="number" name="plant-id" id="plant_id" class="input_field" placeholder="Plant Id (leave empty to create new plant)" /><input type="text" name="ssid" class="input_field" required="true" placeholder="SSID *" /><input type="password" name="password" class="input_field" required="true" placeholder="Password *" /><input type="submit" id="connect_button" value="CONNECT" /></form></div><script>document.getElementById("form").addEventListener("submit", (event)=>{ event.preventDefault(); const data=new FormData(event.currentTarget); function setWifiCredentials(){ fetch( "http://192.168.4.1/setWiFi?" + new URLSearchParams({ ssid: data.get("ssid"), password: data.get("password"),}) ) .then((res)=>{ console.log(res);}) .catch(console.log);} if (data.get("plant-id")){ fetch( "http://192.168.4.1/setId?" + new URLSearchParams({ id: data.get("plant-id"),}) ) .then((res)=>{ console.log(res); setWifiCredentials();}) .catch(console.log);} else{ setWifiCredentials();}}); </script></body></html><style>body{ font-family: "Roboto", "Helvetica", "Arial", sans-serif;} .container{ display: flex; flex-direction: column; align-items: center; min-width: 0px; max-width: 400px; margin: auto; margin-top: 70px;} .avatar{ width: 40px; height: 40px; background-color: #9c27b0; border-radius: 50%; position: relative;} .wifi_icon{ height: 24px; fill: white; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);} .title{ margin-top: 10px; font-size: 1.5rem;} .input_container{ width: 100%; display: flex; flex-direction: column;} .input_field{ height: 50px; margin-top: 27px; border-radius: 4px; border-width: 1px; border-color: #c4c4c4; padding-left: 8px; padding-right: 8px; font-size: 1rem;} #connect_button{ margin-top: 26px; width: 100%; height: 40px; background: #1976d2; border: none; border-radius: 4px; color: white; font-size: 0.875rem; box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%), 0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);} #connect_button:hover{ background-color: #1565c0; box-shadow: 1px 4px 2px -3px rgb(0 0 0 / 20%), 1px 3px 3px 1px rgb(0 0 0 / 14%), 1px 2px 6px 1px rgb(0 0 0 / 12%); cursor: pointer;}</style>